#include <ESP8266WiFi.h>
#include "fsm_ext.h"

unsigned long soundSOUND_NAMETimer = millis();
unsigned long soundSOUND_NAMEDelay = 1000;

void soundSOUND_NAME1000(const soundSOUND_NAME_alarm1_t *) {
    soundSOUND_NAMEDelay = 100;
}

void soundSOUND_NAME200(const soundSOUND_NAME_alarm_t *) {
    soundSOUND_NAMEDelay = 200;
}

void soundSOUND_NAME2000(const soundSOUND_NAME_error_t *) {
    soundSOUND_NAMEDelay = 2000;
}

void soundSOUND_NAMEBegin(void) {
    soundSOUND_NAMETimer = millis();
    digitalWrite(SOUND_PIN, HIGH);
}

void soundSOUND_NAMEEnd(void) {
    digitalWrite(SOUND_PIN, LOW);
}

void soundSOUND_NAMEInit(void) {
    pinMode(SOUND_PIN, OUTPUT);
    digitalWrite(SOUND_PIN, LOW);
}

void soundSOUND_NAMELoop(const soundSOUND_NAME_loop_t *) {
    if (soundSOUND_NAMETimer + soundSOUND_NAMEDelay < millis()) {
        soundSOUND_NAME_end(NULL);
    }
}
